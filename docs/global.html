<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="addClef"><span class="type-signature"></span>addClef<span class="signature">(stave)</span><span class="type-signature"> &rarr; {hbs.SafeString|string}</span></h4>
    

    



<div class="description">
    If a clef has been explicitly declared for a part, and the part is
being formatted as a basic staff, returns a formatted Lilypond 
`\clef` instruction accordingly.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stave</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line192">line 192</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Lilypond `\clef` instruction if applicable, or an empty string.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hbs.SafeString</span>
|

<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findPartials"><span class="type-signature"></span>findPartials<span class="signature">(dir, baseDir, partialsDict)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    Recursive function to build a dict of Handlebar partials in a given
directory.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dir</code></td>
            

            <td class="type">
            
                
<span class="param-type">path</span>


            
            </td>

            

            

            <td class="description last">The directory to scan for partials</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>baseDir</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The top-level directory (Set automatically during recursion)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>partialsDict</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A dict mapping Handlebars partial names to files (Set automatically during recursion)</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line213">line 213</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The complete dict of partials found under the path that was initially passed to the function.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="instrumentName"><span class="type-signature"></span>instrumentName<span class="signature">(info)</span><span class="type-signature"> &rarr; {hbs.SafeString}</span></h4>
    

    



<div class="description">
    When building attributes for a Lilypond `\with {}` block, adds
`instrumentName` and `shortInstrumentName` as applicable. If a
TabStaff is being formatted with an explicit instrument tuning,
that instrument will override any instrument info declared in the
{{#part}} block attributes.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>info</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line137">line 137</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Lilypond `instrumentName` and `shortInstrumentName` instructions as applicable
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hbs.SafeString</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isTabStave"><span class="type-signature"></span>isTabStave<span class="signature">(info)</span><span class="type-signature"> &rarr; {boolean}</span></h4>
    

    



<div class="description">
    Determines whether a key specified in a `layout` Nepenthe header dict
should be formatted as a Lilypond TabStaff.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>info</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A key from a Nepenthe `layout` dict</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line174">line 174</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Whether or not the given key indicates a Tab stave
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="main"><span class="type-signature"></span>main<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The main function for the `nepenthe` command.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="bin_index.js.html">bin/index.js</a>, <a href="bin_index.js.html#line17">line 17</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="parseInputFile"><span class="type-signature"></span>parseInputFile<span class="signature">(file)</span><span class="type-signature"> &rarr; {object}</span></h4>
    

    



<div class="description">
    Reads Nepenthe input and prepares it for rendering.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">The filename to be parsed, or `-` to read fron `STDIN`</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_nepenthe.js.html">lib/nepenthe.js</a>, <a href="lib_nepenthe.js.html#line30">line 30</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Handlebars context object containing data parsed from the file.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="part"><span class="type-signature"></span>part<span class="signature">(context)</span><span class="type-signature"> &rarr; {<a href="global.html#part#~inner">part~inner</a>}</span></h4>
    

    



<div class="description">
    Provides a "#part" Handlebars block helper that extracts
the contents of each "part" block found into the given context dict,
which can then be used elsewhere in the same template.

Thanks to Brian Woodward and his handlebars-helper-variable package
(https://github.com/helpers/handlebars-helper-variable)
for the nudge in the right direction.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>context</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A Handlebars context data object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line23">line 23</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The returned Handlebars helper function
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#part#~inner">part~inner</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="prepareGrouping"><span class="type-signature"></span>prepareGrouping<span class="signature">(data)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Given a data object as extracted from the front-matter of a 
Nepenthe file, checks for the presence of the 'grouping'
property and adds a default as needed.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A Handlebars context data object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_nepenthe.js.html">lib/nepenthe.js</a>, <a href="lib_nepenthe.js.html#line84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="prepareLayouts"><span class="type-signature"></span>prepareLayouts<span class="signature">(data)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Checks that the given data object contains at least one key 
starting with the string `layout`. If none are found, adds
one with a basic staff for each part in the document.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A Handlebars context data object</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_nepenthe.js.html">lib/nepenthe.js</a>, <a href="lib_nepenthe.js.html#line98">line 98</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">(data, layoutKey)</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Given the contents of an `*.lyp` file processed with `yaml-front-matter`
and the name of one of the layout(s) defined in the front-matter,
render that layout as standard LilyPond.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A Handlebars context data object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>layoutKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A key from a Nepenthe header `layout` dict</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_nepenthe.js.html">lib/nepenthe.js</a>, <a href="lib_nepenthe.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Rendered Lilypond data.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="stringTuning"><span class="type-signature"></span>stringTuning<span class="signature">(tabInfo)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Given a `tab-*` instruction in a `layout` front-matter dict, formats a string
for use by the Lilypond 'stringTunings' instruction. If the layout is simply
specified as `tab`, it will default to standard guitar tuning.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>tabInfo</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A string starting with `tab`, with additional instrument and tuning information corresponding to Lilypond's built-in string tunings.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line54">line 54</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Lilypond-friendly string that can be used for Lilypond's `stringTunings` feature
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="whichGrouping"><span class="type-signature"></span>whichGrouping<span class="signature">(grouping)</span><span class="type-signature"> &rarr; {hbs.SafeString}</span></h4>
    

    



<div class="description">
    Determines which type of Staff (if any) should be used to group staves
in the Lilypond output.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>grouping</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>
|

<span class="param-type">undefined</span>


            
            </td>

            

            

            <td class="description last">The `grouping` key from a Nepenthe document header.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line84">line 84</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Lilypond `\new [GroupedStaffType]` statement
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">hbs.SafeString</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="whichStave"><span class="type-signature"></span>whichStave<span class="signature">(stave)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Given the key of a Nepenthe `layout` frontmatter dict, determines which
template partial should be used for that part.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stave</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A key from a Nepenthe `layout` dict</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="lib_handlebars.js.html">lib/handlebars.js</a>, <a href="lib_handlebars.js.html#line120">line 120</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The handlebars partial that should be used to format the given stave.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addClef">addClef</a></li><li><a href="global.html#findPartials">findPartials</a></li><li><a href="global.html#instrumentName">instrumentName</a></li><li><a href="global.html#isTabStave">isTabStave</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#parseInputFile">parseInputFile</a></li><li><a href="global.html#part">part</a></li><li><a href="global.html#prepareGrouping">prepareGrouping</a></li><li><a href="global.html#prepareLayouts">prepareLayouts</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#stringTuning">stringTuning</a></li><li><a href="global.html#whichGrouping">whichGrouping</a></li><li><a href="global.html#whichStave">whichStave</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Fri Jun 04 2021 15:19:20 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>